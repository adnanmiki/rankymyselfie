{% extends 'base.html.twig' %}

{% block body %}
{% set hasImages=0 %}
{% set sumVotes = 0 %}

<br>
<div class="row">
	<div class="col-sm-4">
		<h2>Profile</h2>
		<div class="card" style="width: 20rem; height: 150px;">
			<img class="card-img-top" style="width: 100%;"
				src="{{ user.thumburl }}"
				alt="Edit Profile to upload your Profile Picture...">
			<div class="card-block">
				<button type="button" style="margin-top: 10px; width: 200px;"
					class="btn btn-default btn-sm">
					<span class="glyphicon glyphicon-envelope"></span> Message
				</button>
				<a href="../edituser/{{ user.id }}"
					style="margin-top: 10px; width: 200px;"
					class="btn btn-default btn-sm"><span
					class="glyphicon glyphicon-picture"></span> Edit Profile</a>
			</div>
			<br> <br> <br>
			<div style="width: 200px;" class="alert alert-danger"
				role="alert">
				<h3>
					Profile Rating: <a href="#" class="alert-link">9.4</a>
				</h3>
			</div>
			<div style="width: 200px;" class="alert alert-success" role="alert">
				Profile views: <a href="#" class="alert-link">{{ user.views }}</a>
			</div>
			<div style="width: 200px;" class="alert alert-success" role="alert">
				{% for image in images %}
				{% set sumVotes= sumVotes + image.votes %}
				{% endfor %}
				Gallery votes: <a href="#" class="alert-link">{{ sumVotes }}</a>
			</div>

		</div>

	</div>
	<div class="col-sm-8">
		{% set userAge = 'now'|date('Y') - user.datebirth|date('Y') %}
		<h2>
			{{user.username}}, {{ userAge }} - <span style="color: gray;font-size: 20px;">{{ user.location }}</span>
		</h2>
		<div id="myCarousel" class="carousel slide" data-ride="carousel"
			data-interval="false">

			<!-- Wrapper for slides -->
			<div class="carousel-inner">
				{% for image in images %}
				{% if loop.first %}
				{% set hasImages= 1 %}
				<div class="item active">
					{% else %}
					<div class="item">
						{% endif  %}
						<img style="width: 100%;"
							src="http://localhost/rankmyselfie/web/bundles/uploads/{{ image.urlfolder }}"
							alt="{{ image.pictitel }}">
						<div class="carousel-caption">
							Votes <span class="badge badge-secondary"
								style="background-color: #2196F3;">{{ image.votes }}</span>
							<h3>
								{{ image.pictitel }}
							</h3>
							<p>
								{{ image.picdesc }}
							</p>

							<div class="btn-group mr-2" style="margin-bottom: -50px;"
								role="group" aria-label="First group">
								<button
									style="background-color: rgba(33, 150, 243, 0.38); color: white;"
									type="button" class="btn btn-secondary">1</button>
								<button
									style="background-color: rgba(33, 150, 243, 0.38); color: white;"
									type="button" class="btn btn-secondary">2</button>
								<button
									style="background-color: rgba(33, 150, 243, 0.38); color: white;"
									type="button" class="btn btn-secondary">3</button>
								<button
									style="background-color: rgba(33, 150, 243, 0.38); color: white;"
									type="button" class="btn btn-secondary">4</button>
								<button
									style="background-color: rgba(33, 150, 243, 0.38); color: white;"
									type="button" class="btn btn-secondary">5</button>
								<button
									style="background-color: rgba(33, 150, 243, 0.38); color: white;"
									type="button" class="btn btn-secondary">6</button>
								<button
									style="background-color: rgba(33, 150, 243, 0.38); color: white;"
									type="button" class="btn btn-secondary">7</button>
								<button
									style="background-color: rgba(33, 150, 243, 0.38); color: white;"
									type="button" class="btn btn-secondary">8</button>
								<button
									style="background-color: rgba(33, 150, 243, 0.38); color: white;"
									type="button" class="btn btn-secondary">9</button>
								<button
									style="background-color: rgba(33, 150, 243, 0.38); color: white;"
									type="button" class="btn btn-secondary">10</button>
							</div>
						</div>
					</div>
					
					{% endfor %}
					{% if images is empty %}
					<div class="alert alert-success" role="alert">
						<h4 class="alert-heading">Hi, start with adding your
							pictures!</h4>
						<p>Go to edit profile...</p>
						<hr>
					</div>
					{% endif %}
				</div>

				{% if hasImages==1 %}
				<!-- Left and right controls -->
				<a style="background-color: transparent;"
					class="left carousel-control" href="#myCarousel" data-slide="prev">
					<span class="glyphicon glyphicon-chevron-left"></span> <span
					class="sr-only">Previous</span>
				</a> <a style="background-color: transparent;"
					class="right carousel-control" href="#myCarousel" data-slide="next">
					<span class="glyphicon glyphicon-chevron-right"></span> <span
					class="sr-only">Next</span>
				</a>
				{% endif %}
			</div>
		</div>



	</div>


</div>
</div>


{% endblock %}





